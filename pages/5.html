<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <link rel="shortcut icon" href="../images/image3.png" type="image/x-icon">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JS LAIR</title>
  <link rel="stylesheet" href="../styles/fonts.css">
  <link rel="stylesheet" href="../styles/style-pages.css">
  <link rel="stylesheet" href="../styles/prism.css">
  <script src="../scripts/prism.js" defer></script>
  <script src="../scripts/script.js" defer></script>
</head>
<body>
  
  <header class="header">
    <ul>
      <li><a href="../index.html">Дом</a></li>
      <li><a href="../pages/browse.html">Просмотр</a></li>
      <li><a href="#">Галерея</a></li>
      <li><a href="#">Проект</a></li>
    </ul>
  </header>

  <article>
    <h1>Функции.</h1>
    <hr>
    <p>Функция — это блок кода, который выполняет определённую задачу. Функцию можно вызвать в любом месте программы, сколько угодно раз. Основные элементы функции:</p>
    <ul>
      <li><strong>Имя функции</strong> (необязательно) — используется для вызова функции.</li>
      <li><strong>Аргументы</strong> (или параметры) — данные, которые передаются в функцию.</li>
      <li><strong>Тело функции</strong> — блок кода, который выполняется при вызове функции.</li>
      <li><strong>Возврат значения</strong> (необязательно) — функция может вернуть значение, которое будет результатом её работы.</li>
    </ul>
    <h2>Определение функции</h2>
    <p>Когда мы говорим об определении функции, мы подразумеваем создание именованного блока кода, который можно вызвать по необходимости. Функция в JavaScript определяется с помощью ключевого слова function, за которым следует имя функции, список параметров в круглых скобках, и тело функции, заключенное в фигурные скобки.</p>
    <h3>Синтаксис определения функции:</h3>
<pre>
  <code class="lang-js">
    function имяФункции(параметр1, параметр2, ...) {
      // Тело функции: код, который будет выполнен при вызове функции
    }
  </code>
</pre>
    <p>Пример:</p>
<pre>
  <code class="lang-js">
    function greet(name) {
      console.log("Привет, " + name + "!");
    }
  </code>
</pre>
    <p>Вначале идёт ключевое слово function, после него имя функции, затем список параметров в круглых скобках и, наконец, код функции, также называемый «телом функции», внутри фигурных скобок.</p>
    <h3>Вызов функции</h3>
    <p>Для вызова функции нужно использовать её имя с круглыми скобками, в которых можно передать аргументы:</p>
<pre>
  <code class="lang-js">
    function sayHello(name) {
      console.log("Hello, " + name + "!");
    }

    sayHello("Alice"); // "Hello, Alice!"
  </code>
</pre>
    <h3>Локальные переменные</h3>
    <p>Переменные, объявленные внутри функции, видны только внутри этой функции.</p>
<pre>
  <code class="lang-js">
    function showMessage() {
      let message = "Привет, я JavaScript!"; // локальная переменная
      alert( message );
    }
    
    showMessage(); // Привет, я JavaScript!
    alert( message ); // <-- будет ошибка, т.к. переменная видна только внутри функции
  </code>
</pre>
    <h3>Внешние переменные</h3>
    <p>У функции есть доступ к внешним переменным, например:</p>
<pre>
  <code class="lang-js">
    let userName = 'Вася';

    function showMessage() {
      let message = 'Привет, ' + userName;
      alert(message);
    }

    showMessage(); // Привет, Вася
  </code>
</pre>
    <p>Функция обладает полным доступом к внешним переменным и может изменять их значение.</p>
<pre>
  <code class="lang-js">
    let userName = 'Вася';

    function showMessage() {
      userName = "Петя"; // (1) изменяем значение внешней переменной
      let message = 'Привет, ' + userName;
      alert(message);
    }

    alert( userName ); // Вася перед вызовом функции
    showMessage();
    alert( userName ); // Петя, значение внешней переменной было изменено функцией
  </code>
</pre>
    <p>Внешняя переменная используется, только если внутри функции нет такой локальной.</p>
    <p>Если одноимённая переменная объявляется внутри функции, тогда она перекрывает внешнюю. Например, в коде ниже функция использует локальную переменную userName. Внешняя будет проигнорирована:</p>
<pre>
  <code class="lang-js">
    let userName = 'Вася';

    function showMessage() {
      let userName = "Петя"; // объявляем локальную переменную
      let message = 'Привет, ' + userName; // Петя
      alert(message);
    }
    // функция создаст и будет использовать свою собственную локальную переменную userName
    showMessage();

    alert( userName ); // Вася, не изменилась, функция не трогала внешнюю переменную
  </code>
</pre>
    <blockquote>
      <hr>
      <p><strong><i>Глобальные переменные</i></strong><br>
        <i>Переменные, объявленные снаружи всех функций, такие как внешняя переменная userName в вышеприведённом коде – называются глобальными.</i> <br>
        <i>Глобальные переменные видимы для любой функции (если только их не перекрывают одноимённые локальные переменные).</i> <br>
        <i>Желательно сводить использование глобальных переменных к минимуму. В современном коде обычно мало или совсем нет глобальных переменных. Хотя они иногда полезны для хранения важнейших «общепроектовых» данных.</i></p><hr>
    </blockquote>
    <h2>Параметры</h2>
    <p>Мы можем передать внутрь функции любую информацию, используя параметры. <br> В нижеприведённом примере функции передаются два параметра: <code>from</code> и <code>text</code>.</p>
<pre>
  <code class="lang-js">
    function showMessage(from, text) { // параметры: from, text
      alert(from + ': ' + text);
    }
    
    showMessage('Аня', 'Привет!'); // Аня: Привет! (*)
    showMessage('Аня', "Как дела?"); // Аня: Как дела? (**)
  </code>
</pre>
    <p>Когда функция вызывается в строках (*) и (**), переданные значения копируются в локальные переменные <code>from</code> и <code>text</code>. Затем они используются в теле функции.</p>
    <p>Вот ещё один пример: у нас есть переменная <code>from</code>, и мы передаём её функции. Обратите внимание: функция изменяет значение <code>from</code>, но это изменение не видно снаружи. Функция всегда получает только копию значения:</p>
<pre>
  <code class="lang-js">
    function showMessage(from, text) {

      from = '*' + from + '*'; // немного украсим "from"
    
      alert( from + ': ' + text );
    }
    
    let from = "Аня";
    
    showMessage(from, "Привет"); // *Аня*: Привет
    
    // значение "from" осталось прежним, функция изменила значение локальной переменной
    alert( from ); // Аня
  </code>
</pre>
    <p>Значение, передаваемое в качестве параметра функции, также называется аргументом.</p>
    <p>Другими словами: <br>
      <ul>
        <li>Параметр – это переменная, указанная в круглых скобках в объявлении функции.</li>
        <li>Аргумент – это значение, которое передаётся функции при её вызове.</li>
      </ul>
    </p>
    <p>Мы объявляем функции со списком параметров, затем вызываем их, передавая аргументы. <br>
      Рассматривая приведённый выше пример, мы могли бы сказать: «функция <code>showMessage</code> объявляется с двумя параметрами, затем вызывается с двумя аргументами: <code>from</code> и <code>"Привет"</code>».
    </p>
    
    <h2>Значения по умолчанию</h2>
    <p>Если при вызове функции аргумент не был указан, то его значением становится <code>undefined</code>.</p>
    <p>Например, вышеупомянутая функция <code>showMessage(from, text)</code> может быть вызвана с одним аргументом:</p>
<pre>
  <code class="lang-js">
    showMessage("Аня");
  </code>
</pre>
    <p>Это не приведёт к ошибке. Такой вызов выведет <code>"*Аня*: undefined"</code>. В вызове не указан параметр <code>text</code>, поэтому предполагается, что <code>text === undefined</code>.</p>
    <p>Если мы хотим задать параметру <code>text</code> значение по умолчанию, мы должны указать его после <code>=</code>:</p>
<pre>
  <code class="lang-js">
    function showMessage(from, text = "текст не добавлен") {
      alert( from + ": " + text );
    }
    
    showMessage("Аня"); // Аня: текст не добавлен
  </code>
</pre>
    <p>Теперь, если параметр <code>text</code> не указан, его значением будет <code>"текст не добавлен"</code></p>
    <p>В данном случае <code>"текст не добавлен"</code> это строка, но на её месте могло бы быть и более сложное выражение, которое бы вычислялось и присваивалось при отсутствии параметра. Например:</p>
<pre>
  <code class="lang-js">
    function showMessage(from, text = anotherFunction()) {
      // anotherFunction() выполнится только если не передан text
      // результатом будет значение text
    }
  </code>
</pre>
    <blockquote>
      <hr>
      <p><strong><i>Вычисление параметров по умолчанию</i></strong><br>
        <i>В JavaScript параметры по умолчанию вычисляются каждый раз, когда функция вызывается без соответствующего аргумента.</i> <br>
        <i>В приведённом выше примере, функция <code>anotherFunction()</code> не будет вызвана вообще, если указан аргумент <code>text</code>.</i> <br>
        <i>С другой стороны, функция будет независимо вызываться каждый раз, когда аргумент <code>text</code> отсутствует.</i></p><hr>
    </blockquote>

    <h2>Возврат значения</h2>
    <p>Функция может вернуть результат, который будет передан в вызвавший её код.</p>
<pre>
  <code class="lang-js">
    function sum(a, b) {
      return a + b;
    }
    
    let result = sum(1, 2);
    alert( result ); // 3
  </code>
</pre>
    <p>Директива <code>return</code> может находиться в любом месте тела функции. Как только выполнение доходит до этого места, функция останавливается, и значение возвращается в вызвавший её код (присваивается переменной <code>result</code> выше).</p>
    <p>Вызовов return может быть несколько, например:</p>
<pre>
  <code class="lang-js">
    function checkAge(age) {
      if (age >= 18) {
        return true;
      } else {
        return confirm('А родители разрешили?');
      }
    }
    
    let age = prompt('Сколько вам лет?', 18);
    
    if ( checkAge(age) ) {
      alert( 'Доступ получен' );
    } else {
      alert( 'Доступ закрыт' );
    }
  </code>
</pre>

    <h2>Итого</h2>
    <p>Объявление функции имеет вид:</p>
<pre>
  <code class="lang-js">
    function имя(параметры, через, запятую) {
      /* тело, код функции */
    }
  </code>
</pre>
    <ul>
      <li>Передаваемые значения копируются в параметры функции и становятся локальными переменными.</li>
      <li>Функции имеют доступ к внешним переменным. Но это работает только изнутри наружу. Код вне функции не имеет доступа к её локальным переменным.</li>
      <li>Функция может возвращать значение. Если этого не происходит, тогда результат равен <code>undefined</code>.</li>
    </ul>
    <p>Для того, чтобы сделать код более чистым и понятным, рекомендуется использовать локальные переменные и параметры функций, не пользоваться внешними переменными.</p>
    <p>Функция, которая получает параметры, работает с ними и затем возвращает результат, гораздо понятнее функции, вызываемой без параметров, но изменяющей внешние переменные, что чревато побочными эффектами.</p>
    <p>Именование функций:
      <ul>
        <li>Имя функции должно понятно и чётко отражать, что она делает. Увидев её вызов в коде, вы должны тут же понимать, что она делает, и что возвращает.</li>
        <li>Функция – это действие, поэтому её имя обычно является глаголом.</li>
        <li>Есть много общепринятых префиксов, таких как: <code>create…</code>, <code>show…</code>, <code>get…</code>, <code>check…</code> и т.д. Пользуйтесь ими как подсказками, поясняющими, что делает функция.</li>
      </ul>
    </p>
    <p>Функции являются основными строительными блоками скриптов.</p>
  </article>
</body>
</html>